{
  "name": "Test Workflow JSON",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -352,
        16
      ],
      "id": "bea61313-7216-45fb-aa17-3ab70674ccf4",
      "name": "When chat message received",
      "webhookId": "fe810c37-8d4f-4300-b2b7-4eb258fd51e5"
    },
    {
      "parameters": {
        "hasOutputParser": true,
        "options": {
          "systemMessage": "<AgentInstructions>\n    <Role>\n        <name>RecipeGeneratorAgenet</name>\n        <description> A helpful cooking assistant that generates custom recipes</description>\n    </Role>\n    <Goal>\n        <Primary>Provide a complete recipe including ingredients and step by step instruction based on user's required dish</Primary>\n    </Goal>\n    <Instructions>\n        <Instruction>Once you recieve user's dish name, not them down carefully.</Instruction>\n        <Instruction>Generate a list of ingredients with accurate quantities tailored to the specified serving size</Instruction>\n        <Instruction>Provide clear, step-by-step instructions on how to prepare the dish</Instruction>\n        <Instruction>Where applicable, include cooking times, tips or variants to enhance the recipe</Instruction>\n    </Instructions>\n</AgentInstructions>\n<Examples>\n    <Example>\n        <UserInput> Chicken Biryani </UserInput>\n        <UserOutput>\n            {\n                \"Name\": \"Classic Chicken Biryani\",\n                \"Description\": \"Chicken Biryani is a fragrant and flavorful Indian rice dish made with basmati rice, tender chicken, and a medley of aromatic spices. It's a celebratory meal that's rich in taste and tradition.\",\n                \"Servings\": \"4-6\",\n                \"PrepTime\": \"30 minutes (plus 1-2 hours marination)\",\n                \"CookTime\": \"45-60 minutes\",\n                \"Tags\": [\"Indian\", \"Biryani\", \"Chicken\", \"Rice\", \"Main Course\", \"One Pot\"],\n                \"Ingredients\": \"ðŸ”¸ 500g boneless, skinless chicken thighs or bone-in chicken pieces, cut into medium chunks\\nðŸ”¸ 1 cup plain yogurt (full-fat recommended)\\nðŸ”¸ 2 tbsp ginger-garlic paste\\nðŸ”¸ 1 tsp red chili powder (adjust to taste)\\nðŸ”¸ 1/2 tsp turmeric powder\\nðŸ”¸ 1 tsp garam masala\\nðŸ”¸ 1/2 tsp cumin powder\\nðŸ”¸ 1/2 tsp coriander powder\\nðŸ”¸ 1/2 tsp black pepper powder\\nðŸ”¸ 2 green chilies, slit\\nðŸ”¸ 2 tbsp chopped fresh mint leaves\\nðŸ”¸ 3 tbsp chopped fresh coriander leaves\\nðŸ”¸ 1 tbsp lemon juice\\nðŸ”¸ 1 tsp salt (or to taste)\\nðŸ”¸ 2 cups (approx. 400g) Basmati rice\\nðŸ”¸ 4-5 cups water (for boiling)\\nðŸ”¸ 1-2 bay leaves\\nðŸ”¸ 3-4 green cardamom pods\\nðŸ”¸ 2-3 cloves\\nðŸ”¸ 1 small cinnamon stick\\nðŸ”¸ 1 tbsp oil or ghee (optional, for non-sticky rice)\\nðŸ”¸ 2 large onions, thinly sliced and fried until golden brown (birista)\\nðŸ”¸ 1/4 cup ghee or oil\\nðŸ”¸ 2 medium tomatoes, finely chopped (optional)\\nðŸ”¸ 1/4 cup fresh mint leaves, chopped\\nðŸ”¸ 1/4 cup fresh coriander leaves, chopped\\nðŸ”¸ 1/4 cup warm milk mixed with saffron or food coloring\\nðŸ”¸ 1 tsp kewra water or rose water (optional)\\nðŸ”¸ 1-2 tbsp warm water mixed with a pinch of garam masala\\nðŸ”¸ 2 tbsp fried cashew nuts (optional)\",\n                \"Instructions\": \"ðŸ”¹ Marinate the Chicken:\\nâ€¢ In a bowl, mix chicken with yogurt, ginger-garlic paste, spices, chilies, mint, coriander, lemon juice, and salt. Mix well.\\nâ€¢ Cover and refrigerate for at least 1-2 hours (or overnight).\\n\\nðŸ”¹ Prepare Crispy Fried Onions:\\nâ€¢ Thinly slice onions and fry in oil over medium heat until golden brown (15-20 mins). Drain and set aside.\\n\\nðŸ”¹ Cook the Rice:\\nâ€¢ Rinse and soak Basmati rice for 30 minutes.\\nâ€¢ Boil 4-5 cups water with bay leaves, cardamoms, cloves, cinnamon, salt, and oil/ghee.\\nâ€¢ Add soaked rice and cook until 70% done. Drain immediately.\\n\\nðŸ”¹ Prepare Chicken Gravy:\\nâ€¢ Heat 1/4 cup ghee/oil in a heavy-bottomed pot. (Optional: add cumin seeds.)\\nâ€¢ Add tomatoes (optional), cook until soft and oil separates.\\nâ€¢ Add marinated chicken. Cook for 8-10 mins on medium-high.\\nâ€¢ Cover and simmer for 10-15 mins until chicken is 70-80% cooked and gravy thickens.\\n\\nðŸ”¹ Layer the Biryani:\\nâ€¢ Spread chicken gravy at the bottom of the pot.\\nâ€¢ Add half the rice, then sprinkle half the fried onions, mint, coriander, saffron milk, and kewra water.\\nâ€¢ Add remaining rice and repeat garnishes.\\nâ€¢ Sprinkle with garam masala water and dot with ghee.\\nâ€¢ Seal pot with tight-fitting lid or dough.\\n\\nðŸ”¹ Dum Cooking:\\nâ€¢ Cook on high heat for 5 minutes.\\nâ€¢ Lower heat and cook for 20-25 minutes.\\nâ€¢ Turn off heat and let rest for 10-15 minutes.\\n\\nðŸ”¹ Serve:\\nâ€¢ Open the lid and gently fluff the biryani.\\nâ€¢ Garnish with fried cashews and fresh coriander.\\nâ€¢ Serve hot with raita, salad, or pickle.\",\n                \"Tips\": \"âœ… Use high-quality aged Basmati rice for long grains and aroma.\\nâœ… Marinate chicken well for deep flavor and tenderness.\\nâœ… Do not overcook rice before layering â€“ 70% is ideal.\\nâœ… A tight seal is essential for proper dum cooking.\\nâœ… Use a tawa or heat diffuser to prevent burning.\\nâœ… Rest the biryani after dum cooking to let flavors settle.\\nâœ… Crispy fried onions (birista) are key â€“ make fresh or buy good quality ones.\\nâœ… Add a drizzle of ghee or saffron milk before sealing for aroma and richness.\\nâœ… Avoid overmixing the rice when serving to preserve texture.\"\n            }\n\n        </UserOutput>\n    </Example>\n</Examples>"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -128,
        16
      ],
      "id": "9d128a86-45b0-4c66-9a46-36f00fa17a46",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -128,
        240
      ],
      "id": "7fe2f084-de03-460e-ad2b-9f13f41a6f0a",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "ym9sEerRCpnYPWUf",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "appIucp8J70nVyYEt",
          "mode": "list",
          "cachedResultName": "Recipe Details",
          "cachedResultUrl": "https://airtable.com/appIucp8J70nVyYEt"
        },
        "table": {
          "__rl": true,
          "value": "tblwbSp6IqwZZDO4s",
          "mode": "list",
          "cachedResultName": "Json_Data",
          "cachedResultUrl": "https://airtable.com/appIucp8J70nVyYEt/tblwbSp6IqwZZDO4s"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Recipe Name": "={{ $json.output.Name }}",
            "Description": "={{ $json.output.Description }}",
            "Ingredients": "={{ $json.output.Ingredients }}",
            "Instructions": "={{ $json.output.Instructions }}",
            "Tips": "={{ $json.output.Tips }}"
          },
          "matchingColumns": [
            "Recipe Details"
          ],
          "schema": [
            {
              "id": "Recipe Name",
              "displayName": "Recipe Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Description",
              "displayName": "Description",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Ingredients",
              "displayName": "Ingredients",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Instructions",
              "displayName": "Instructions",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Tips",
              "displayName": "Tips",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        224,
        16
      ],
      "id": "f1c99af2-7c88-4725-8d16-edf2f17c9e9c",
      "name": "Create a record",
      "credentials": {
        "airtableTokenApi": {
          "id": "yUekkr0Mj93Uz4KT",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "schemaType": "manual",
        "inputSchema": "{\n  \"Name\": \"Classic Chicken Biryani\",\n  \"Description\": \"Chicken Biryani is a fragrant and flavorful Indian rice dish made with basmati rice, tender chicken, and a medley of aromatic spices. It's a celebratory meal that's rich in taste and tradition.\",\n  \"Servings\": \"4-6\",\n  \"PrepTime\": \"30 minutes (plus 1-2 hours marination)\",\n  \"CookTime\": \"45-60 minutes\",\n  \"Tags\": [\"Indian\", \"Biryani\", \"Chicken\", \"Rice\", \"Main Course\", \"One Pot\"],\n  \"Ingredients\": \"ðŸ”¸ 500g boneless, skinless chicken thighs or bone-in chicken pieces, cut into medium chunks\\nðŸ”¸ 1 cup plain yogurt (full-fat recommended)\\nðŸ”¸ 2 tbsp ginger-garlic paste\\nðŸ”¸ 1 tsp red chili powder (adjust to taste)\\nðŸ”¸ 1/2 tsp turmeric powder\\nðŸ”¸ 1 tsp garam masala\\nðŸ”¸ 1/2 tsp cumin powder\\nðŸ”¸ 1/2 tsp coriander powder\\nðŸ”¸ 1/2 tsp black pepper powder\\nðŸ”¸ 2 green chilies, slit\\nðŸ”¸ 2 tbsp chopped fresh mint leaves\\nðŸ”¸ 3 tbsp chopped fresh coriander leaves\\nðŸ”¸ 1 tbsp lemon juice\\nðŸ”¸ 1 tsp salt (or to taste)\\nðŸ”¸ 2 cups (approx. 400g) Basmati rice\\nðŸ”¸ 4-5 cups water (for boiling)\\nðŸ”¸ 1-2 bay leaves\\nðŸ”¸ 3-4 green cardamom pods\\nðŸ”¸ 2-3 cloves\\nðŸ”¸ 1 small cinnamon stick\\nðŸ”¸ 1 tbsp oil or ghee (optional, for non-sticky rice)\\nðŸ”¸ 2 large onions, thinly sliced and fried until golden brown (birista)\\nðŸ”¸ 1/4 cup ghee or oil\\nðŸ”¸ 2 medium tomatoes, finely chopped (optional)\\nðŸ”¸ 1/4 cup fresh mint leaves, chopped\\nðŸ”¸ 1/4 cup fresh coriander leaves, chopped\\nðŸ”¸ 1/4 cup warm milk mixed with saffron or food coloring\\nðŸ”¸ 1 tsp kewra water or rose water (optional)\\nðŸ”¸ 1-2 tbsp warm water mixed with a pinch of garam masala\\nðŸ”¸ 2 tbsp fried cashew nuts (optional)\",\n  \"Instructions\": \"ðŸ”¹ Marinate the Chicken:\\nâ€¢ In a bowl, mix chicken with yogurt, ginger-garlic paste, spices, chilies, mint, coriander, lemon juice, and salt. Mix well.\\nâ€¢ Cover and refrigerate for at least 1-2 hours (or overnight).\\n\\nðŸ”¹ Prepare Crispy Fried Onions:\\nâ€¢ Thinly slice onions and fry in oil over medium heat until golden brown (15-20 mins). Drain and set aside.\\n\\nðŸ”¹ Cook the Rice:\\nâ€¢ Rinse and soak Basmati rice for 30 minutes.\\nâ€¢ Boil 4-5 cups water with bay leaves, cardamoms, cloves, cinnamon, salt, and oil/ghee.\\nâ€¢ Add soaked rice and cook until 70% done. Drain immediately.\\n\\nðŸ”¹ Prepare Chicken Gravy:\\nâ€¢ Heat 1/4 cup ghee/oil in a heavy-bottomed pot. (Optional: add cumin seeds.)\\nâ€¢ Add tomatoes (optional), cook until soft and oil separates.\\nâ€¢ Add marinated chicken. Cook for 8-10 mins on medium-high.\\nâ€¢ Cover and simmer for 10-15 mins until chicken is 70-80% cooked and gravy thickens.\\n\\nðŸ”¹ Layer the Biryani:\\nâ€¢ Spread chicken gravy at the bottom of the pot.\\nâ€¢ Add half the rice, then sprinkle half the fried onions, mint, coriander, saffron milk, and kewra water.\\nâ€¢ Add remaining rice and repeat garnishes.\\nâ€¢ Sprinkle with garam masala water and dot with ghee.\\nâ€¢ Seal pot with tight-fitting lid or dough.\\n\\nðŸ”¹ Dum Cooking:\\nâ€¢ Cook on high heat for 5 minutes.\\nâ€¢ Lower heat and cook for 20-25 minutes.\\nâ€¢ Turn off heat and let rest for 10-15 minutes.\\n\\nðŸ”¹ Serve:\\nâ€¢ Open the lid and gently fluff the biryani.\\nâ€¢ Garnish with fried cashews and fresh coriander.\\nâ€¢ Serve hot with raita, salad, or pickle.\",\n  \"Tips\": \"âœ… Use high-quality aged Basmati rice for long grains and aroma.\\nâœ… Marinate chicken well for deep flavor and tenderness.\\nâœ… Do not overcook rice before layering â€“ 70% is ideal.\\nâœ… A tight seal is essential for proper dum cooking.\\nâœ… Use a tawa or heat diffuser to prevent burning.\\nâœ… Rest the biryani after dum cooking to let flavors settle.\\nâœ… Crispy fried onions (birista) are key â€“ make fresh or buy good quality ones.\\nâœ… Add a drizzle of ghee or saffron milk before sealing for aroma and richness.\\nâœ… Avoid overmixing the rice when serving to preserve texture.\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        16,
        240
      ],
      "id": "53e8ed33-f2dc-41fa-8159-dc729715de25",
      "name": "Structured Output Parser"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Create a record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "e58df6bc-a2c9-4eac-a0a5-81358a7bb500",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "54f5f263d5aa9d9d70cb63d056fbfac8cbfc60d9037c22fe7a41aed220d76f77"
  },
  "id": "xKxhYjb1Praz5xEI",
  "tags": []
}